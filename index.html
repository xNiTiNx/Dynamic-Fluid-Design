<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hand Fluid Sim Final</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #111; font-family: sans-serif; }
        
        /* 1. The Canvas - Where the 3D scene lives */
        #canvas {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; /* Lowest layer */
        }

        /* 2. The Webcam - Hidden visually, but active */
        #webcam {
            position: absolute; bottom: 0; right: 0;
            width: 160px; z-index: 10;
            pointer-events: none; /* KEY FIX: Let mouse clicks pass through */
            opacity: 0.5; /* Semi-transparent */
        }

        /* 3. Text Overlay */
        #instructions {
            position: absolute; top: 20px; left: 20px; color: white;
            z-index: 10;
            pointer-events: none; /* KEY FIX: Let mouse clicks pass through */
            background: rgba(0,0,0,0.5); padding: 10px; border-radius: 8px;
        }
    </style>

    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/",
            "@mediapipe/tasks-vision": "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.8/+esm"
        }
    }
    </script>
</head>
<body>
    <div id="instructions">
        <h3>Fluid Hand Control</h3>
        <p>• Left Click + Drag to Rotate</p>
        <p>• Scroll to Zoom</p>
        <p>• <span style="color:#ff3333">Red Ball</span> tracks your hand</p>
    </div>
    
    <video id="webcam" autoplay playsinline></video>
    <canvas id="canvas"></canvas>
    
    <script type="module" src="./main.js"></script>
</body>
</html>